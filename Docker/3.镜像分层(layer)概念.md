#### 按层堆叠
+ 镜像层(只读)
+ 容器层(在容器里可读可写，容器间独立)

![container-layers](images/3.镜像分层(layer)概念/container-layers.jpg)

![v2-d83e9ea8fe286cb6ec0701ef30a3f6a3_1440w](images/3.镜像分层(layer)概念/v2-d83e9ea8fe286cb6ec0701ef30a3f6a3_1440w.jpg)


#### 系统快照
+ 在构建过程中产生的容器叫临时容器，只能用于镜像的构建，不可直接使用。
+ 每执行一步，docker都会对当时的运行环境(构建过程中产生的东西)做一次快照，
+ 这个快照是以临时容器的形式来体现的,每执行一步就会相对应的创建一个临时容器。

![屏幕截图 2021-04-24 094305](images/3.镜像分层(layer)概念/屏幕截图2021-04-24-094305.png)

+ 临时容器在构建过程中可以被重用，当你要构建一个新的镜像时，如果在构建的过程中使用的命令在构建其他镜像时被使用过，

  那么该命令不会再产生新的临时容器，直接重用之前缓存的临时容器。

+ 临时容器的重用减少了对宿主机存储占用，加快了镜像的构建。

